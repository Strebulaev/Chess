// Добавь это в chessboard.component.scss

/* Общие стили для всех режимов */
.chessboard {
  position: relative;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 20px 30px rgba(0,0,0,0.3);
  transition: all 0.5s ease;
  
  .cell {
    transition: all 0.3s ease;
    position: relative;
    z-index: 1;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.05);
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    &:hover::before {
      opacity: 1;
    }
    
    &.selected {
      &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(52, 152, 219, 0.5);
        box-shadow: 0 0 15px rgba(52, 152, 219, 0.7);
        z-index: -1;
      }
    }
    
    .move-dot {
      box-shadow: 0 0 10px 2px rgba(46, 204, 113, 0.8);
      background: radial-gradient(circle, rgba(46, 204, 113, 1) 30%, transparent 70%);
    }
  }
}

/* Классические шахматы - элегантный деревянный стиль */
.chessboard.classic-mode {
  border: 15px solid #5D4037;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(93, 64, 55, 0.3) 0%, rgba(93, 64, 55, 0.1) 100%);
    z-index: 0;
  }
  
  .cell {
    &:nth-child(odd) {
      background: rgba(210, 180, 140, 0.9);
    }
    
    &:nth-child(even) {
      background: rgba(139, 69, 19, 0.9);
    }
  }
  
  .row:nth-child(odd) .cell {
    &:nth-child(odd) {
      background: rgba(139, 69, 19, 0.9);
    }
    
    &:nth-child(even) {
      background: rgba(210, 180, 140, 0.9);
    }
  }
  
  span.white {
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
  }
  
  span.black {
    filter: drop-shadow(0 2px 4px rgba(255,255,255,0.3));
  }
}

/* D&D режим - мрачное подземелье с магическими эффектами */
.chessboard.dnd-mode {
  border: 15px solid #8E44AD;
  box-shadow: 0 0 30px rgba(142, 68, 173, 0.5);
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(142, 68, 173, 0.2) 0%, rgba(41, 128, 185, 0.1) 100%);
    z-index: 0;
  }
  
  .cell {
    background: rgba(44, 62, 80, 0.7) !important;
    border: 1px solid rgba(255,255,255,0.05);
    
    &:nth-child(odd) {
      background: rgba(44, 62, 80, 0.5) !important;
    }
    
    &:nth-child(even) {
      background: rgba(142, 68, 173, 0.3) !important;
    }
    
    &.selected {
      background: rgba(155, 89, 182, 0.7) !important;
      
      &::after {
        background: rgba(155, 89, 182, 0.5);
        box-shadow: 0 0 15px rgba(155, 89, 182, 0.7);
      }
    }
  }
  
  .row:nth-child(odd) .cell {
    &:nth-child(odd) {
      background: rgba(142, 68, 173, 0.3) !important;
    }
    
    &:nth-child(even) {
      background: rgba(44, 62, 80, 0.5) !important;
    }
  }
  
  span.white {
    color: #f1c40f !important;
    text-shadow: 0 0 10px #f1c40f, 0 0 20px #f39c12;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8));
  }
  
  span.black {
    color: #e74c3c !important;
    text-shadow: 0 0 10px #c0392b, 0 0 20px #e74c3c;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8));
  }
  
  .move-dot {
    box-shadow: 0 0 15px 3px rgba(241, 196, 15, 0.8);
    background: radial-gradient(circle, rgba(241, 196, 15, 1) 30%, transparent 70%);
  }
  
  // Магические свечения по краям доски
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 2px solid transparent;
    border-image: linear-gradient(45deg, #8e44ad, #3498db, #8e44ad);
    border-image-slice: 1;
    pointer-events: none;
    z-index: 5;
    animation: borderGlow 3s infinite linear;
  }
  
  @keyframes borderGlow {
    0% { opacity: 0.3; }
    50% { opacity: 0.8; }
    100% { opacity: 0.3; }
  }
}

/* 5D Chess - футуристический космический стиль */
.chessboard.five-d-mode {
  border: 15px solid #3498DB;
  box-shadow: 0 0 30px rgba(52, 152, 219, 0.5);
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(52, 152, 219, 0.2) 0%, rgba(41, 128, 185, 0.1) 100%);
    z-index: 0;
  }
  
  .cell {
    background: rgba(25, 42, 86, 0.7) !important;
    border: 1px solid rgba(255,255,255,0.1);
    
    &:nth-child(odd) {
      background: rgba(25, 42, 86, 0.5) !important;
    }
    
    &:nth-child(even) {
      background: rgba(52, 152, 219, 0.3) !important;
    }
    
    &.selected {
      background: rgba(52, 152, 219, 0.7) !important;
      
      &::after {
        background: rgba(52, 152, 219, 0.5);
        box-shadow: 0 0 15px rgba(52, 152, 219, 0.7);
      }
    }
  }
  
  .row:nth-child(odd) .cell {
    &:nth-child(odd) {
      background: rgba(52, 152, 219, 0.3) !important;
    }
    
    &:nth-child(even) {
      background: rgba(25, 42, 86, 0.5) !important;
    }
  }
  
  span.white {
    color: #2ecc71 !important;
    text-shadow: 0 0 10px #2ecc71, 0 0 20px #27ae60;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8));
  }
  
  span.black {
    color: #9b59b6 !important;
    text-shadow: 0 0 10px #8e44ad, 0 0 20px #9b59b6;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8));
  }
  
  .move-dot {
    box-shadow: 0 0 15px 3px rgba(46, 204, 113, 0.8);
    background: radial-gradient(circle, rgba(46, 204, 113, 1) 30%, transparent 70%);
  }
  
  // Эффект сетки для многомерности
  .grid-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      linear-gradient(rgba(52, 152, 219, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(52, 152, 219, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 2;
  }
  
  // Анимированные частицы
  .particles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 1;
    
    &::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(52, 152, 219, 0.3) 0%, transparent 30%),
        radial-gradient(circle at 80% 70%, rgba(46, 204, 113, 0.3) 0%, transparent 30%);
      animation: particleMove 20s infinite alternate;
    }
  }
  
  @keyframes particleMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(10px, 10px); }
  }
}

/* Стили для side-panel в разных режимах */
.side-panel {
  &.classic-mode {
    background: linear-gradient(135deg, #f5f5dc 0%, #e6d8b5 100%);
    border: 1px solid #d2b48c;
    
    h3 {
      color: #5D4037;
    }
  }
  
  &.dnd-mode {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    color: #ecf0f1;
    border: 1px solid #8e44ad;
    
    h3 {
      color: #f1c40f;
    }
    
    .health-bar {
      background: rgba(0,0,0,0.3) !important;
      border: 1px solid #f1c40f;
    }
  }
  
  &.five-d-mode {
    background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
    color: #e1f5fe;
    border: 1px solid #3498db;
    
    h3 {
      color: #00e5ff;
    }
  }
}
/* Классические шахматы - благородные переливы дерева и золота */
.chessboard.classic-mode {
    border: 15px solid #5D4037;
    background: linear-gradient(
      135deg,
      #8B4513 0%,
      #A0522D 25%,
      #CD853F 50%,
      #D2B48C 75%,
      #F5DEB3 100%
    );
    background-size: 400% 400%;
    animation: classicGradient 15s ease infinite;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to bottom,
        rgba(93, 64, 55, 0.7) 0%,
        rgba(210, 180, 140, 0.3) 50%,
        rgba(93, 64, 55, 0.7) 100%
      );
      z-index: 0;
    }
  
    @keyframes classicGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  }
  
  /* D&D режим - мистические фиолетово-черные переливы */
  .chessboard.dnd-mode {
    border: 15px solid #8E44AD;
    background: linear-gradient(
      135deg,
      #2C3E50 0%,
      #4A235A 25%,
      #6C3483 50%,
      #8E44AD 75%,
      #AF7AC5 100%
    );
    background-size: 400% 400%;
    animation: dndGradient 15s ease infinite;
    box-shadow: 0 0 30px rgba(142, 68, 173, 0.7);
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to bottom,
        rgba(44, 62, 80, 0.8) 0%,
        rgba(142, 68, 173, 0.4) 50%,
        rgba(44, 62, 80, 0.8) 100%
      );
      z-index: 0;
    }
  
    @keyframes dndGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  }
  
  /* 5D Chess - космические сине-голубые переливы */
  .chessboard.five-d-mode {
    border: 15px solid #3498DB;
    background: linear-gradient(
      135deg,
      #0F2027 0%,
      #203A43 25%,
      #2C5364 50%,
      #3498DB 75%,
      #00d2ff 100%
    );
    background-size: 400% 400%;
    animation: fiveDGradient 15s ease infinite;
    box-shadow: 0 0 30px rgba(52, 152, 219, 0.7);
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to bottom,
        rgba(15, 32, 39, 0.8) 0%,
        rgba(52, 152, 219, 0.4) 50%,
        rgba(15, 32, 39, 0.8) 100%
      );
      z-index: 0;
    }
  
    @keyframes fiveDGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  }
  
  /* Добавим эффект "звездной пыли" для 5D режима */
  .five-d-mode .particles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
    
    &::before, &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(2px 2px at 20% 30%, white 1px, transparent 2px),
        radial-gradient(2px 2px at 80% 70%, #00d2ff 1px, transparent 2px),
        radial-gradient(2px 2px at 40% 60%, white 1px, transparent 2px),
        radial-gradient(2px 2px at 60% 20%, #00d2ff 1px, transparent 2px);
      background-size: 100px 100px;
      animation: starsMove 50s linear infinite;
    }
    
    &::after {
      background: 
        radial-gradient(1px 1px at 10% 80%, white 1px, transparent 2px),
        radial-gradient(1px 1px at 90% 10%, #00d2ff 1px, transparent 2px),
        radial-gradient(1px 1px at 30% 50%, white 1px, transparent 2px),
        radial-gradient(1px 1px at 70% 90%, #00d2ff 1px, transparent 2px);
      background-size: 150px 150px;
      animation: starsMove 80s linear infinite reverse;
    }
  }
  
  @keyframes starsMove {
    0% { background-position: 0 0, 0 0, 0 0, 0 0; }
    100% { background-position: 100px 100px, -100px -100px, 50px -50px, -50px 50px; }
  }
  
  /* Улучшенные эффекты для фигур */
  .chessboard {
    span.white {
      transition: all 0.3s ease;
      text-shadow: 0 0 8px currentColor;
    }
    
    span.black {
      transition: all 0.3s ease;
      text-shadow: 0 0 8px currentColor;
    }
    
    .cell:hover span {
      transform: scale(1.1);
    }
  }
  
  /* Особые эффекты для D&D фигур */
  .dnd-mode {
    span.white {
      animation: whitePulse 3s infinite alternate;
    }
    
    span.black {
      animation: blackPulse 3s infinite alternate;
    }
    
    @keyframes whitePulse {
      0% { filter: drop-shadow(0 0 5px #f1c40f); }
      100% { filter: drop-shadow(0 0 15px #f39c12); }
    }
    
    @keyframes blackPulse {
      0% { filter: drop-shadow(0 0 5px #e74c3c); }
      100% { filter: drop-shadow(0 0 15px #c0392b); }
    }
  }
  
  /* Особые эффекты для 5D фигур */
  .five-d-mode {
    span.white {
      animation: whiteGlow 3s infinite alternate;
    }
    
    span.black {
      animation: blackGlow 3s infinite alternate;
    }
    
    @keyframes whiteGlow {
      0% { filter: drop-shadow(0 0 5px #2ecc71); }
      100% { filter: drop-shadow(0 0 15px #27ae60); }
    }
    
    @keyframes blackGlow {
      0% { filter: drop-shadow(0 0 5px #9b59b6); }
      100% { filter: drop-shadow(0 0 15px #8e44ad); }
    }
  }
  /* Классические шахматы - теплые деревянные тона */
.chessboard.classic-mode {
    background: linear-gradient(
      135deg,
      rgba(139, 69, 19, 0.9) 0%,
      rgba(160, 82, 45, 0.9) 25%,
      rgba(205, 133, 63, 0.9) 50%,
      rgba(210, 180, 140, 0.9) 75%,
      rgba(245, 222, 179, 0.9) 100%
    );
    background-size: 300% 300%;
    animation: classicFlow 12s ease infinite;
    backdrop-filter: blur(2px);
    box-shadow: 
      inset 0 0 20px rgba(210, 180, 140, 0.6),
      0 0 30px rgba(139, 69, 19, 0.4);
  }
  
  @keyframes classicFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* D&D режим - мистические фиолетовые тона */
  .chessboard.dnd-mode {
    background: linear-gradient(
      135deg,
      rgba(44, 62, 80, 0.9) 0%,
      rgba(74, 35, 90, 0.9) 25%,
      rgba(108, 52, 131, 0.9) 50%,
      rgba(142, 68, 173, 0.9) 75%,
      rgba(175, 122, 197, 0.9) 100%
    );
    background-size: 300% 300%;
    animation: dndFlow 10s ease infinite;
    backdrop-filter: blur(3px);
    box-shadow: 
      inset 0 0 25px rgba(142, 68, 173, 0.7),
      0 0 40px rgba(44, 62, 80, 0.5);
  }
  
  @keyframes dndFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* 5D Chess - футуристические синие тона */
  .chessboard.five-d-mode {
    background: linear-gradient(
      135deg,
      rgba(15, 32, 39, 0.9) 0%,
      rgba(32, 58, 67, 0.9) 25%,
      rgba(44, 83, 100, 0.9) 50%,
      rgba(52, 152, 219, 0.9) 75%,
      rgba(0, 210, 255, 0.9) 100%
    );
    background-size: 300% 300%;
    animation: fiveDFlow 8s ease infinite;
    backdrop-filter: blur(2px);
    box-shadow: 
      inset 0 0 30px rgba(52, 152, 219, 0.6),
      0 0 50px rgba(0, 210, 255, 0.3);
  }
  
  @keyframes fiveDFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* Общие стили для стеклянного эффекта */
  .chessboard {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      z-index: -1;
    }
    
    .cell {
      background-color: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(2px);
    }
    
    .row:nth-child(odd) .cell:nth-child(even),
    .row:nth-child(even) .cell:nth-child(odd) {
      background-color: rgba(0, 0, 0, 0.15);
    }
  }
  .chessboard-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem;
    border-radius: 16px;
    margin: 0 auto;
    max-width: 800px;
    
    /* Цвета фона для разных режимов */
    &.classic-mode {
      background: rgba(93, 64, 55, 0.2);
    }
    &.dnd-mode {
      background: rgba(44, 62, 80, 0.2);
    }
    &.five-d-mode {
      background: rgba(15, 32, 39, 0.2);
    }
  }
  
  .game-info {
    margin-bottom: 1rem;
    font-size: 1.2rem;
    color: white;
    text-align: center;
  }
  
  .game-id {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
  }
  .chessboard {
  margin: 0 auto; /* Центрирование доски */
  
  /* Уменьшенные размеры для мобильных */
  @media (max-width: 768px) {
    .cell {
      width: 40px;
      height: 40px;
      
      span {
        font-size: 30px;
      }
    }
  }

  @media (max-width: 480px) {
    .cell {
      width: 30px;
      height: 30px;
      
      span {
        font-size: 22px;
      }
    }
  }
}
/* Стили для боковой панели информации о фигуре */
.side-panel {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 250px;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    z-index: 100;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    
    /* Стили для разных режимов */
    &.classic-mode {
      background: rgba(245, 222, 179, 0.9);
      border: 1px solid #d2b48c;
      color: #5D4037;
    }
    
    &.dnd-mode {
      background: rgba(44, 62, 80, 0.9);
      border: 1px solid #8e44ad;
      color: #ecf0f1;
    }
    
    &.five-d-mode {
      background: rgba(25, 42, 86, 0.9);
      border: 1px solid #3498db;
      color: #e1f5fe;
    }
  
    .panel-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 15px;
      
      .piece-icon {
        font-size: 40px;
        margin: 10px 0;
      }
      
      h3 {
        margin: 5px 0;
        text-align: center;
      }
    }
  
    .health-section {
      width: 100%;
      margin: 15px 0;
      
      .health-bar {
        height: 20px;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
        margin-bottom: 5px;
        
        .health-fill {
          height: 100%;
          transition: width 0.3s ease;
        }
        
        .health-text {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 12px;
          font-weight: bold;
        }
      }
    }
  
    .move-options {
      margin-top: 20px;
      
      .option-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
        
        button {
          padding: 8px 12px;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          
          &.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
          }
          
          &.disabled {
            opacity: 0.5;
            cursor: not-allowed;
          }
          
          .option-icon {
            font-size: 18px;
          }
        }
      }
    }
  }
  
  /* Специфичные стили для каждого режима */
  .side-panel.classic-mode {
    .health-bar {
      background: #e6d8b5;
      
      .health-fill {
        background: #b58863;
      }
      
      .health-text {
        color: #5D4037;
      }
    }
    
    button {
      background: #b58863;
      color: white;
      
      &:hover:not(.disabled) {
        background: #8B4513;
      }
      
      &.active {
        background: #8B4513;
      }
    }
  }
  
  .side-panel.dnd-mode {
    .health-bar {
      background: rgba(0,0,0,0.3);
      
      .health-fill {
        background: #f1c40f;
      }
      
      .health-text {
        color: white;
      }
    }
    
    button {
      background: #8e44ad;
      color: white;
      
      &:hover:not(.disabled) {
        background: #6C3483;
      }
      
      &.active {
        background: #6C3483;
        box-shadow: 0 0 10px rgba(142, 68, 173, 0.7);
      }
      
      &.ability-option {
        background: #e74c3c;
        
        &:hover:not(.disabled) {
          background: #c0392b;
        }
      }
    }
  }
  
  .side-panel.five-d-mode {
    .health-bar {
      background: rgba(0,0,0,0.3);
      
      .health-fill {
        background: #2ecc71;
      }
      
      .health-text {
        color: white;
      }
    }
    
    button {
      background: #3498db;
      color: white;
      
      &:hover:not(.disabled) {
        background: #2980b9;
      }
      
      &.active {
        background: #2980b9;
        box-shadow: 0 0 10px rgba(52, 152, 219, 0.7);
      }
    }
  }
  
  /* Адаптация для мобильных устройств */
  @media (max-width: 1024px) {
    .side-panel {
      width: 220px;
      right: 10px;
      padding: 15px;
    }
  }
  
  @media (max-width: 768px) {
    .side-panel {
      position: static;
      transform: none;
      width: 100%;
      max-width: 400px;
      margin: 20px auto;
      top: auto;
      right: auto;
    }
  }